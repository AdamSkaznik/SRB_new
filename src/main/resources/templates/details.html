<!--
  ~ Copyright (c) 2023. Adam Skaźnik for SOL PPL Chopin Airport
  ~ All rights reserved.
  -->

<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" xmlns:sd="http://www.w3.org/1999/xhtml"
	  th:replace="~{fragments/layout::layout(~{::.container})}">
<head>
	<meta charset="utf-8">
</head>
<body>
<div class="container">
	<br><br>
	<div>
		<br>
	</div>
	<div class="row">
		<center><h2> Szczegóły interwencji</h2></center>
	</div>
	<div class="row">
		<table th:object="${event}" class="table table-bordered table-striped" style="width: 100%">
			<tr>
				<td> L.DZ.</td>
				<td colspan="3" th:utext="${event.eventSystemNr}" style="font-weight: bold"></td>
			</tr>
			<tr>
				<td>ZGŁASZAJĄCY INTERWENCJĘ</td>
				<td colspan="3" th:utext="${event.reporting}" style="font-weight: bold"></td>
			</tr>
			<tr>
				<td>DANE DOTYCZĄCE INTERWENCJI (kategoria zgłoszenia)</td>
				<td colspan="3" th:object="${eventType}" th:utext="${eventType.eventTypeName}"></td>
			</tr>
			<tr>
				<td>
					LOKALIZACJA
				</td>
				<td th:object="${place}" th:utext="Terminal  + ': ' +${place.placeName}"></td>
				<td th:object="${level}" th:utext="Poziom + ': ' +${level.levelName}"></td>
				<td th:object="${zone}" th:utext="Strefa + ': ' +${zone.zoneName}"></td>
			</tr>
			<tr>
				<td>OPIS WYDARZENIA</td>
				<td colspan="3" th:utext="${event.eventDesc}"></td>
			</tr>
			<tr>
				<td> CZAS TRWANIA INTERWENCJI</td>
				<td colspan="3"></td>

			</tr>
			<tr>
				<td> ZAANGAŻOWANIE SŁUŻB PAŃSTOWYCH</td>
				<td colspan="3">
				<input type="checkbox" name="services"
					   th:each="involved : ${allInvolved}"
					   th:text="${involved.involvedName}"
					   th:value="${involved.involvedId}"
					   th:field="*{involved}">
				</td>
			</tr>
			<tr>
				<td> ZAANGAŻOWANIE SŁUŻB MEDYCZNYCH</td>
				<td colspan="3">
<!--					<input type="checkbox" th:value="">-->
				</td>
			</tr>
			<tr>
				<td> UŻYTE ŚPB</td>
				<td colspan="3"></td>
			</tr>
			<tr>
				<td> PODJĘTE CZYNNOŚCI</td>
				<td colspan="3"></td>
			</tr>
			<tr>
				<td> CZYNNOŚCI PRZED UŻYCIEM ŚPB</td>
				<td colspan="3"></td>
			</tr>
			<tr>
				<td> CZYNNOŚCI PO UŻYCIU ŚPB</td>
				<td colspan="3"></td>
			</tr>
			<tr>
				<td> OGÓLNY STAN ZDROWIA</td>
				<td colspan="3"></td>
			</tr>
			<tr>
				<td> CZYNNOŚCI PODJĘTE WSPÓLNIE Z</td>
				<td colspan="3"></td>
			</tr>
			<tr>
				<td> INNE ISTOTNE INFORMACJE</td>
				<td colspan="3"></td>
			</tr>
			<tr>
				<td> DANE OSOBY W STOSUNKU DO KTÓREJ PODEJMOWANO CZYNNOŚCI</td>
				<td colspan="3"></td>
			</tr>
		</table>
	</div>
	<div>
		<br>
	</div>
	<div class="row">
		<center><h2> WYDANE DYSPOZYCJE</h2></center>
	</div>
	<div class="row">
		<table class="uk-table uk-table-striped uk-table-hover">
			<tr>
<!--				<th><a class="uk-sortable" sd:pagination-sort="id">Id</a></th>-->
				<th><a class="uk-sortable" sd:pagination-sort="cData">Czas dyspozycji</a></th>
				<th><a class="uk-sortable" sd:pagination-sort="type">Kto wydał</a></th>
				<th><a class="uk-sortable" sd:pagination-sort="description">Dyspozycja</a></th>
<!--				<th>Akcje</th>-->
			</tr>
			<tr th:each="instrukcja : ${instructions}">
<!--				<td th:text="${zgloszenie.id}"></td>-->
				<td th:text="${instrukcja.instructionsDate}"></td>
				<td th:text="${instrukcja.createdBy}"></td>
				<td th:text="${instrukcja.instructionsDesc}"></td>
<!--				<td style="width:200px">-->
<!--					<div sec:authorize="isAuthenticated()" th:class="uk-inline">-->
<!--						<a th:href="@{/zgloszenia/history/(id=${zgloszenie.id})}" uk-icon="history" th:title="Historia"></a>-->
<!--						<a th:href="@{/zgloszenia/form/(id=${zgloszenie.id})}" uk-icon="pencil" th:title="Edycja"></a>-->
<!--						<a th:href="@{/zgloszenia/details/(id=${zgloszenie.id})}" uk-icon="info" th:title="Szczegóły"></a>-->
<!--						<a th:href="@{/zgloszenia/zamknij/(id=${zgloszenie.id})}" uk-icon="lock" th:title="Zakończ"></a>-->
<!--						<a></a>-->
<!--					</div>-->
<!--					<div sec:authorize="hasAnyAuthority('MANAGER','ADMIN')" th:class="uk-inline">-->
<!--						<a th:href="@{/manager/przydziel/(id=${zgloszenie.id})}" uk-icon="users" th:title="Przydziel"></a>-->
<!--						&lt;!&ndash;                        <a th:href="@{/admin/usun/(id=${zgloszenie.id})}" uk-icon="warning" style="color: red" th:title="Usuń">&ndash;&gt;-->
<!--					</div>-->
<!--					<div sec:authorize="hasAuthority('ADMIN')" th:class="uk-inline">-->
<!--						<a th:href="@{/admin/usun/(id=${zgloszenie.id})}" uk-icon="warning" style="color: red" th:title="Usuń"></a>-->
<!--					</div>-->

<!--				</td>-->
			</tr>
		</table>
<!--		<table id="instructions" class="table table-bordered table-striped" style="width: 100%">-->
<!--			<thead>-->
<!--			<tr>-->
<!--				<th>Lp.</th>-->
<!--				<th>Wydający dyspozycję</th>-->
<!--				<th>Data wyd. dyspozycji</th>-->
<!--				<th>Dyspozycja</th>-->
<!--				<th>Akcje</th>-->
<!--			</tr>-->
<!--			</thead>-->
<!--		</table>-->
	</div>
	<br><br>
</div>
</body>
</html>
<script type="text/javascript">
    // $(document).ready(function () {
    //     var table = $('#instructions').DataTable({
    //         "sAjaxSource": "/api/instructions/v1",
    //         "sAjaxDataProp": "",
    //         "aoColumns": [
    //             {
    //                 "mData": null,
    //                 "render": function (data, type, full, meta) {
    //                     return meta.index + 1;
    //                 }
    //             },
	//
    //             {"mData": "createdBy"},
    //             {"mData": "instructionsDate"},
    //             {"mData": "instructionsDesc"},
    //             {
    //                 "mData": null,
    //                 "orderable": false,
    //                 "width": "100px",
    //                 "render": function () {
    //                     return '<button id="edytuj" class="btn btn-success btn-circle" title="Edycja" ><i class="glyphicon glyphicon-pencil"></i></button>&nbsp;<button id="usun" class="btn btn-danger" title="Usuń"><i class="glyphicon glyphicon-remove"></i></button>';
    //                 }
    //             }
    //         ],
    //         "language": {
    //             "processing": "Przetwarzanie...",
    //             "search": "Szukaj:",
    //             "lengthMenu": "Pokaż _MENU_ pozycji",
    //             "info": "Pozycje od _START_ do _END_ z _TOTAL_ łącznie",
    //             "infoEmpty": "Pozycji 0 z 0 dostępnych",
    //             "infoFiltered": "(filtrowanie spośród _MAX_ dostępnych pozycji)",
    //             "infoPostFix": "",
    //             "loadingRecords": "Wczytywanie...",
    //             "zeroRecords": "Nie znaleziono pasujących pozycji",
    //             "emptyTable": "Nie znaleziono rekordów",
    //             "paginate": {
    //                 "first": "Pierwsza",
    //                 "previous": "Poprzednia",
    //                 "next": "Następna",
    //                 "last": "Ostatnia"
    //             },
    //             "aria": {
    //                 "sortAscending": ": aktywuj, by posortować kolumnę rosnąco",
    //                 "sortDescending": ": aktywuj, by posortować kolumnę malejąco"
    //             }
    //         }
    //     })
    // });
    //     // $('#spb tbody').on('click', '#edytuj', function () {
    //     //     var data = table.row($(this).parents('tr')).data();
	// 	//
    //     // })
    //     // $('#spb tbody').on('click', '#usun', function () {
    //     //     var data = table.row($(this).parents('tr')).data();
    //     //     if (confirm("Potwierdź usunięcie")){
    //     //         window.location = '/admin/deleteSpb/'+data["id"];
    //     //     } else {
    //     //         window.location = '/admin/spb';
    //     //     }
    //     // })
	//
    //     table.on('order.dt search.dt', function () {
    //         table.column(0, { search: 'applied', order: 'applied' }).nodes().each(function (cell, i) {
    //             cell.innerHTML = i + 1;
    //         });
    //     }).draw();
</script>